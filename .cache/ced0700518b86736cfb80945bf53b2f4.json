{"dependencies":[{"name":"react"},{"name":"./styles.scss"}],"generated":{"js":"\"use strict\";Object.defineProperty(exports,\"__esModule\",{value:!0});var e=function(){function e(e,t){for(var a=0;a<t.length;a++){var r=t[a];r.enumerable=r.enumerable||!1,r.configurable=!0,\"value\"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,a,r){return a&&e(t.prototype,a),r&&e(t,r),t}}(),t=require(\"react\"),a=i(t),r=require(\"./styles.scss\"),n=i(r);function i(e){return e&&e.__esModule?e:{default:e}}function l(e){if(Array.isArray(e)){for(var t=0,a=Array(e.length);t<e.length;t++)a[t]=e[t];return a}return Array.from(e)}function o(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}function u(e,t){if(!e)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return!t||\"object\"!=typeof t&&\"function\"!=typeof t?e:t}function s(e,t){if(\"function\"!=typeof t&&null!==t)throw new TypeError(\"Super expression must either be null or a function, not \"+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var d=function(t){function r(e){o(this,r);var t=u(this,(r.__proto__||Object.getPrototypeOf(r)).call(this,e));return t.state={image:{},bwImage:\"\"},t.handleDragover=t.handleDragover.bind(t),t.handleDrop=t.handleDrop.bind(t),t.handleDesaturate=t.handleDesaturate.bind(t),t.handleClearImages=t.handleClearImages.bind(t),t}return s(r,a.default.Component),e(r,[{key:\"componentDidMount\",value:function(){window.addEventListener(\"dragover\",this.handleDragover),window.addEventListener(\"drop\",this.handleDrop)}},{key:\"componentWillUnmount\",value:function(){window.removeEventListener(\"dragover\",this.handleDragover),window.removeEventListener(\"drop\",this.handleDrop)}},{key:\"handleDragover\",value:function(e){e.preventDefault()}},{key:\"handleDrop\",value:function(e){e.preventDefault();var t=[].concat(l(e.dataTransfer.files)),a=!0,r=!1,n=void 0;try{for(var i,o=t[Symbol.iterator]();!(a=(i=o.next()).done);a=!0){var u=i.value;this.handleFileDrop(u)}}catch(e){r=!0,n=e}finally{try{!a&&o.return&&o.return()}finally{if(r)throw n}}}},{key:\"handleFileDrop\",value:function(e){var t=this,a=new FileReader;a.addEventListener(\"load\",function(a){t.state.image={file:a.target.result,name:e.name},t.state.bgImage=\"\",t.setState(t.state)}),a.readAsDataURL(e)}},{key:\"getImagePreview\",value:function(){var e=this.state.image;if(e.file)return a.default.createElement(\"div\",{className:\"image-holder\"},a.default.createElement(\"img\",{id:\"image\",src:e.file}))}},{key:\"getImageName\",value:function(){var e=this.state.image;if(e.name)return a.default.createElement(\"p\",null,e.name)}},{key:\"handleDesaturate\",value:function(){var e=document.getElementById(\"image\");if(!e)return!1;var t=document.createElement(\"canvas\"),a=t.getContext(\"2d\"),r=e.naturalWidth,n=e.naturalWidth;t.width=r,t.height=n,a.drawImage(e,0,0);for(var i=a.getImageData(0,0,r,n),l=0;l<i.height;l++)for(var o=0;o<i.width;o++){var u=4*l*i.width+4*o,s=(i.data[u]+i.data[u+1]+i.data[u+2])/3;i.data[u]=s,i.data[u+1]=s,i.data[u+2]=s}a.putImageData(i,0,0,0,0,i.width,i.height);var d=t.toDataURL();this.state.bwImage=d,this.setState(this.state)}},{key:\"handleClearImages\",value:function(){var e=this.state;e.image={},e.bwImage=\"\",this.setState(e)}},{key:\"render\",value:function(){var e=this.state,t={};return e.image.file||(t.display=\"none\"),a.default.createElement(\"div\",null,a.default.createElement(\"div\",{className:\"column\"},a.default.createElement(\"p\",null,\"Drop an image here to convert it to black and white\"),a.default.createElement(\"div\",{className:\"image-wrapper\"},a.default.createElement(\"div\",{className:\"image-preview\"},this.getImagePreview()),a.default.createElement(\"div\",{className:\"image-name\"},this.getImageName()),a.default.createElement(\"button\",{onClick:this.handleDesaturate,style:t},\"Desaturate\"),a.default.createElement(\"button\",{onClick:this.handleClearImages,style:t},\"Clear images\")),a.default.createElement(\"div\",{className:\"image-preview\"},a.default.createElement(\"img\",{src:e.bwImage}))))}}]),r}();exports.default=d;"},"hash":"5d4d1894804ce3dc58661aafd9eb6063"}